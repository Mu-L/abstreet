<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Manages the state of parked cars. There are two implementations:"><title>ParkingSim in sim::mechanics::parking - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="sim" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../sim/index.html">sim</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">ParkingSim</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.add_parked_car">add_parked_car</a></li><li><a href="#tymethod.all_parked_car_positions">all_parked_car_positions</a></li><li><a href="#tymethod.bldg_to_parked_cars">bldg_to_parked_cars</a></li><li><a href="#tymethod.canonical_pt">canonical_pt</a></li><li><a href="#tymethod.collect_events">collect_events</a></li><li><a href="#tymethod.get_all_draw_cars">get_all_draw_cars</a></li><li><a href="#tymethod.get_all_free_spots">get_all_free_spots</a></li><li><a href="#tymethod.get_all_parking_spots">get_all_parking_spots</a></li><li><a href="#tymethod.get_car_at_spot">get_car_at_spot</a></li><li><a href="#tymethod.get_draw_car">get_draw_car</a></li><li><a href="#tymethod.get_draw_cars">get_draw_cars</a></li><li><a href="#tymethod.get_draw_cars_in_lots">get_draw_cars_in_lots</a></li><li><a href="#tymethod.get_free_lot_spots">get_free_lot_spots</a></li><li><a href="#tymethod.get_free_offstreet_spots">get_free_offstreet_spots</a></li><li><a href="#tymethod.get_free_onstreet_spots">get_free_onstreet_spots</a></li><li><a href="#tymethod.get_owner_of_car">get_owner_of_car</a></li><li><a href="#tymethod.handle_live_edits">handle_live_edits</a></li><li><a href="#tymethod.is_free">is_free</a></li><li><a href="#tymethod.lookup_parked_car">lookup_parked_car</a></li><li><a href="#tymethod.path_to_free_parking_spot">path_to_free_parking_spot</a></li><li><a href="#tymethod.remove_parked_car">remove_parked_car</a></li><li><a href="#tymethod.reserve_spot">reserve_spot</a></li><li><a href="#tymethod.spot_to_driving_pos">spot_to_driving_pos</a></li><li><a href="#tymethod.spot_to_sidewalk_pos">spot_to_sidewalk_pos</a></li><li><a href="#tymethod.unreserve_spot">unreserve_spot</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In sim::mechanics::parking</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../../index.html">sim</a>::<wbr><a href="../index.html">mechanics</a>::<wbr><a href="index.html">parking</a>::<wbr><a class="trait" href="#">ParkingSim</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/sim/mechanics/parking.rs.html#25-78">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ParkingSim {
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 25 methods</span></summary>    // Required methods
    fn <a href="#tymethod.handle_live_edits" class="fn">handle_live_edits</a>(
        &amp;mut self,
        map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>,
        timer: &amp;mut Timer&lt;'_&gt;
    ) -&gt; (<a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>&gt;);
<span class="item-spacer"></span>    fn <a href="#tymethod.get_free_onstreet_spots" class="fn">get_free_onstreet_spots</a>(&amp;self, l: <a class="struct" href="../../../map_model/objects/lane/struct.LaneID.html" title="struct map_model::objects::lane::LaneID">LaneID</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_free_offstreet_spots" class="fn">get_free_offstreet_spots</a>(&amp;self, b: <a class="struct" href="../../../map_model/objects/building/struct.BuildingID.html" title="struct map_model::objects::building::BuildingID">BuildingID</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_free_lot_spots" class="fn">get_free_lot_spots</a>(&amp;self, pl: <a class="struct" href="../../../map_model/objects/parking_lot/struct.ParkingLotID.html" title="struct map_model::objects::parking_lot::ParkingLotID">ParkingLotID</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.reserve_spot" class="fn">reserve_spot</a>(&amp;mut self, spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>, car: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.unreserve_spot" class="fn">unreserve_spot</a>(&amp;mut self, car: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.remove_parked_car" class="fn">remove_parked_car</a>(&amp;mut self, p: <a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.add_parked_car" class="fn">add_parked_car</a>(&amp;mut self, p: <a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.get_draw_cars" class="fn">get_draw_cars</a>(&amp;self, id: <a class="struct" href="../../../map_model/objects/lane/struct.LaneID.html" title="struct map_model::objects::lane::LaneID">LaneID</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../render/struct.DrawCarInput.html" title="struct sim::render::DrawCarInput">DrawCarInput</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_draw_cars_in_lots" class="fn">get_draw_cars_in_lots</a>(&amp;self, id: <a class="struct" href="../../../map_model/objects/lane/struct.LaneID.html" title="struct map_model::objects::lane::LaneID">LaneID</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../render/struct.DrawCarInput.html" title="struct sim::render::DrawCarInput">DrawCarInput</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_draw_car" class="fn">get_draw_car</a>(&amp;self, id: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../render/struct.DrawCarInput.html" title="struct sim::render::DrawCarInput">DrawCarInput</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.canonical_pt" class="fn">canonical_pt</a>(&amp;self, id: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Pt2D&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_all_draw_cars" class="fn">get_all_draw_cars</a>(&amp;self, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../render/struct.DrawCarInput.html" title="struct sim::render::DrawCarInput">DrawCarInput</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.is_free" class="fn">is_free</a>(&amp;self, spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_car_at_spot" class="fn">get_car_at_spot</a>(&amp;self, spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_all_free_spots" class="fn">get_all_free_spots</a>(
        &amp;self,
        driving_pos: <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>,
        vehicle: &amp;<a class="struct" href="../../struct.Vehicle.html" title="struct sim::Vehicle">Vehicle</a>,
        target: <a class="struct" href="../../../map_model/objects/building/struct.BuildingID.html" title="struct map_model::objects::building::BuildingID">BuildingID</a>,
        map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>, <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>)&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.spot_to_driving_pos" class="fn">spot_to_driving_pos</a>(
        &amp;self,
        spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>,
        vehicle: &amp;<a class="struct" href="../../struct.Vehicle.html" title="struct sim::Vehicle">Vehicle</a>,
        map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>
    ) -&gt; <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.spot_to_sidewalk_pos" class="fn">spot_to_sidewalk_pos</a>(&amp;self, spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_owner_of_car" class="fn">get_owner_of_car</a>(&amp;self, id: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.PersonID.html" title="struct sim::PersonID">PersonID</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.lookup_parked_car" class="fn">lookup_parked_car</a>(&amp;self, id: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_all_parking_spots" class="fn">get_all_parking_spots</a>(&amp;self) -&gt; (<a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;);
<span class="item-spacer"></span>    fn <a href="#tymethod.path_to_free_parking_spot" class="fn">path_to_free_parking_spot</a>(
        &amp;self,
        start: <a class="struct" href="../../../map_model/objects/lane/struct.LaneID.html" title="struct map_model::objects::lane::LaneID">LaneID</a>,
        vehicle: &amp;<a class="struct" href="../../struct.Vehicle.html" title="struct sim::Vehicle">Vehicle</a>,
        target: <a class="struct" href="../../../map_model/objects/building/struct.BuildingID.html" title="struct map_model::objects::building::BuildingID">BuildingID</a>,
        map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../../map_model/pathfind/v1/enum.PathStep.html" title="enum map_model::pathfind::v1::PathStep">PathStep</a>&gt;, <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>, <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>)&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.collect_events" class="fn">collect_events</a>(&amp;mut self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../events/enum.Event.html" title="enum sim::events::Event">Event</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.all_parked_car_positions" class="fn">all_parked_car_positions</a>(&amp;self, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>, <a class="struct" href="../../struct.PersonID.html" title="struct sim::PersonID">PersonID</a>)&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.bldg_to_parked_cars" class="fn">bldg_to_parked_cars</a>(&amp;self, b: <a class="struct" href="../../../map_model/objects/building/struct.BuildingID.html" title="struct map_model::objects::building::BuildingID">BuildingID</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>&gt;;
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Manages the state of parked cars. There are two implementations:</p>
<ul>
<li>NormalParkingSimState allows only one vehicle per ParkingSpot defined in the map</li>
<li>InfiniteParkingSimState pretends every building has infinite capacity, and onstreet parking is
ignored</li>
</ul>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.handle_live_edits" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#28">source</a><h4 class="code-header">fn <a href="#tymethod.handle_live_edits" class="fn">handle_live_edits</a>(
    &amp;mut self,
    map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>,
    timer: &amp;mut Timer&lt;'_&gt;
) -&gt; (<a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>&gt;)</h4></section></summary><div class="docblock"><p>Returns any cars that got very abruptly evicted from existence, and also cars actively
moving into a deleted spot.</p>
</div></details><section id="tymethod.get_free_onstreet_spots" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#29">source</a><h4 class="code-header">fn <a href="#tymethod.get_free_onstreet_spots" class="fn">get_free_onstreet_spots</a>(&amp;self, l: <a class="struct" href="../../../map_model/objects/lane/struct.LaneID.html" title="struct map_model::objects::lane::LaneID">LaneID</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;</h4></section><section id="tymethod.get_free_offstreet_spots" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#30">source</a><h4 class="code-header">fn <a href="#tymethod.get_free_offstreet_spots" class="fn">get_free_offstreet_spots</a>(&amp;self, b: <a class="struct" href="../../../map_model/objects/building/struct.BuildingID.html" title="struct map_model::objects::building::BuildingID">BuildingID</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;</h4></section><section id="tymethod.get_free_lot_spots" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#31">source</a><h4 class="code-header">fn <a href="#tymethod.get_free_lot_spots" class="fn">get_free_lot_spots</a>(&amp;self, pl: <a class="struct" href="../../../map_model/objects/parking_lot/struct.ParkingLotID.html" title="struct map_model::objects::parking_lot::ParkingLotID">ParkingLotID</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;</h4></section><section id="tymethod.reserve_spot" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#32">source</a><h4 class="code-header">fn <a href="#tymethod.reserve_spot" class="fn">reserve_spot</a>(&amp;mut self, spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>, car: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>)</h4></section><details class="toggle method-toggle" open><summary><section id="tymethod.unreserve_spot" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#34">source</a><h4 class="code-header">fn <a href="#tymethod.unreserve_spot" class="fn">unreserve_spot</a>(&amp;mut self, car: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>)</h4></section></summary><div class="docblock"><p>Needed when abruptly deleting a car, in case they’re being deleted during their last step.</p>
</div></details><section id="tymethod.remove_parked_car" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#35">source</a><h4 class="code-header">fn <a href="#tymethod.remove_parked_car" class="fn">remove_parked_car</a>(&amp;mut self, p: <a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>)</h4></section><section id="tymethod.add_parked_car" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#36">source</a><h4 class="code-header">fn <a href="#tymethod.add_parked_car" class="fn">add_parked_car</a>(&amp;mut self, p: <a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>)</h4></section><section id="tymethod.get_draw_cars" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#37">source</a><h4 class="code-header">fn <a href="#tymethod.get_draw_cars" class="fn">get_draw_cars</a>(&amp;self, id: <a class="struct" href="../../../map_model/objects/lane/struct.LaneID.html" title="struct map_model::objects::lane::LaneID">LaneID</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../render/struct.DrawCarInput.html" title="struct sim::render::DrawCarInput">DrawCarInput</a>&gt;</h4></section><section id="tymethod.get_draw_cars_in_lots" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#38">source</a><h4 class="code-header">fn <a href="#tymethod.get_draw_cars_in_lots" class="fn">get_draw_cars_in_lots</a>(&amp;self, id: <a class="struct" href="../../../map_model/objects/lane/struct.LaneID.html" title="struct map_model::objects::lane::LaneID">LaneID</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../render/struct.DrawCarInput.html" title="struct sim::render::DrawCarInput">DrawCarInput</a>&gt;</h4></section><section id="tymethod.get_draw_car" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#39">source</a><h4 class="code-header">fn <a href="#tymethod.get_draw_car" class="fn">get_draw_car</a>(&amp;self, id: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../render/struct.DrawCarInput.html" title="struct sim::render::DrawCarInput">DrawCarInput</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="tymethod.canonical_pt" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#41">source</a><h4 class="code-header">fn <a href="#tymethod.canonical_pt" class="fn">canonical_pt</a>(&amp;self, id: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Pt2D&gt;</h4></section></summary><div class="docblock"><p>There’s no DrawCarInput for cars parked offstreet, so we need this.</p>
</div></details><section id="tymethod.get_all_draw_cars" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#42">source</a><h4 class="code-header">fn <a href="#tymethod.get_all_draw_cars" class="fn">get_all_draw_cars</a>(&amp;self, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../render/struct.DrawCarInput.html" title="struct sim::render::DrawCarInput">DrawCarInput</a>&gt;</h4></section><section id="tymethod.is_free" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#43">source</a><h4 class="code-header">fn <a href="#tymethod.is_free" class="fn">is_free</a>(&amp;self, spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.bool.html">bool</a></h4></section><section id="tymethod.get_car_at_spot" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#44">source</a><h4 class="code-header">fn <a href="#tymethod.get_car_at_spot" class="fn">get_car_at_spot</a>(&amp;self, spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="tymethod.get_all_free_spots" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#47-55">source</a><h4 class="code-header">fn <a href="#tymethod.get_all_free_spots" class="fn">get_all_free_spots</a>(
    &amp;self,
    driving_pos: <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>,
    vehicle: &amp;<a class="struct" href="../../struct.Vehicle.html" title="struct sim::Vehicle">Vehicle</a>,
    target: <a class="struct" href="../../../map_model/objects/building/struct.BuildingID.html" title="struct map_model::objects::building::BuildingID">BuildingID</a>,
    map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>, <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>)&gt;</h4></section></summary><div class="docblock"><p>The vehicle’s front is currently at the given driving_pos. Returns all valid spots and their
driving position.</p>
</div></details><section id="tymethod.spot_to_driving_pos" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#56">source</a><h4 class="code-header">fn <a href="#tymethod.spot_to_driving_pos" class="fn">spot_to_driving_pos</a>(
    &amp;self,
    spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>,
    vehicle: &amp;<a class="struct" href="../../struct.Vehicle.html" title="struct sim::Vehicle">Vehicle</a>,
    map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>
) -&gt; <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a></h4></section><section id="tymethod.spot_to_sidewalk_pos" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#57">source</a><h4 class="code-header">fn <a href="#tymethod.spot_to_sidewalk_pos" class="fn">spot_to_sidewalk_pos</a>(&amp;self, spot: <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a></h4></section><section id="tymethod.get_owner_of_car" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#58">source</a><h4 class="code-header">fn <a href="#tymethod.get_owner_of_car" class="fn">get_owner_of_car</a>(&amp;self, id: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.PersonID.html" title="struct sim::PersonID">PersonID</a>&gt;</h4></section><section id="tymethod.lookup_parked_car" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#59">source</a><h4 class="code-header">fn <a href="#tymethod.lookup_parked_car" class="fn">lookup_parked_car</a>(&amp;self, id: <a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../struct.ParkedCar.html" title="struct sim::ParkedCar">ParkedCar</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="tymethod.get_all_parking_spots" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#61">source</a><h4 class="code-header">fn <a href="#tymethod.get_all_parking_spots" class="fn">get_all_parking_spots</a>(&amp;self) -&gt; (<a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>&gt;)</h4></section></summary><div class="docblock"><p>(Filled, available)</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.path_to_free_parking_spot" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#68-74">source</a><h4 class="code-header">fn <a href="#tymethod.path_to_free_parking_spot" class="fn">path_to_free_parking_spot</a>(
    &amp;self,
    start: <a class="struct" href="../../../map_model/objects/lane/struct.LaneID.html" title="struct map_model::objects::lane::LaneID">LaneID</a>,
    vehicle: &amp;<a class="struct" href="../../struct.Vehicle.html" title="struct sim::Vehicle">Vehicle</a>,
    target: <a class="struct" href="../../../map_model/objects/building/struct.BuildingID.html" title="struct map_model::objects::building::BuildingID">BuildingID</a>,
    map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../../map_model/pathfind/v1/enum.PathStep.html" title="enum map_model::pathfind::v1::PathStep">PathStep</a>&gt;, <a class="enum" href="../../enum.ParkingSpot.html" title="enum sim::ParkingSpot">ParkingSpot</a>, <a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>)&gt;</h4></section></summary><div class="docblock"><p>Unrealistically assumes the driver has knowledge of currently free parking spots, even if
they’re far away. Since they don’t reserve the spot in advance, somebody else can still beat
them there, producing some nice, realistic churn if there’s too much contention. But
the implementation has some internal jitter between different vehicles, to discourage
everybody near one spot from all competing for it.
Note the first PathStep is the turn after start, NOT PathStep::Lane(start).</p>
</div></details><section id="tymethod.collect_events" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#75">source</a><h4 class="code-header">fn <a href="#tymethod.collect_events" class="fn">collect_events</a>(&amp;mut self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../events/enum.Event.html" title="enum sim::events::Event">Event</a>&gt;</h4></section><section id="tymethod.all_parked_car_positions" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#76">source</a><h4 class="code-header">fn <a href="#tymethod.all_parked_car_positions" class="fn">all_parked_car_positions</a>(&amp;self, map: &amp;<a class="struct" href="../../../map_model/struct.Map.html" title="struct map_model::Map">Map</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="../../../map_model/traversable/struct.Position.html" title="struct map_model::traversable::Position">Position</a>, <a class="struct" href="../../struct.PersonID.html" title="struct sim::PersonID">PersonID</a>)&gt;</h4></section><section id="tymethod.bldg_to_parked_cars" class="method"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#77">source</a><h4 class="code-header">fn <a href="#tymethod.bldg_to_parked_cars" class="fn">bldg_to_parked_cars</a>(&amp;self, b: <a class="struct" href="../../../map_model/objects/building/struct.BuildingID.html" title="struct map_model::objects::building::BuildingID">BuildingID</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../struct.CarID.html" title="struct sim::CarID">CarID</a>&gt;</h4></section></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-ParkingSim-for-ParkingSimState" class="impl"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#80">source</a><a href="#impl-ParkingSim-for-ParkingSimState" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ParkingSim.html" title="trait sim::mechanics::parking::ParkingSim">ParkingSim</a> for <a class="enum" href="enum.ParkingSimState.html" title="enum sim::mechanics::parking::ParkingSimState">ParkingSimState</a></h3></section><section id="impl-ParkingSim-for-InfiniteParkingSimState" class="impl"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#835-1072">source</a><a href="#impl-ParkingSim-for-InfiniteParkingSimState" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ParkingSim.html" title="trait sim::mechanics::parking::ParkingSim">ParkingSim</a> for <a class="struct" href="struct.InfiniteParkingSimState.html" title="struct sim::mechanics::parking::InfiniteParkingSimState">InfiniteParkingSimState</a></h3></section><section id="impl-ParkingSim-for-NormalParkingSimState" class="impl"><a class="src rightside" href="../../../src/sim/mechanics/parking.rs.html#216-657">source</a><a href="#impl-ParkingSim-for-NormalParkingSimState" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ParkingSim.html" title="trait sim::mechanics::parking::ParkingSim">ParkingSim</a> for <a class="struct" href="struct.NormalParkingSimState.html" title="struct sim::mechanics::parking::NormalParkingSimState">NormalParkingSimState</a></h3></section></div><script src="../../../trait.impl/sim/mechanics/parking/trait.ParkingSim.js" async></script></section></div></main></body></html>